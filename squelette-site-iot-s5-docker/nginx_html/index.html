<!doctype html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>R5.AL.18 : IoT - carte</title>

    <!-- Feuille de style Leaflet -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""
    />


    <!-- Scripts -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.js">
	 </script>
     <script src="mqtt_wrapper.js"></script>

  <script>MQTTconnect();</script>

    <style>
    #map {
      margin-left: 50%;
      transform: translate(-50%);
      width: 500px;
        height: 400px;
    }
    nav {
			width: 100%;
			background-color: aqua;
			height: 5%;
			font-size: 5vh;
			text-align: center;
			font-weight: bolder;
			color: rgb(223, 11, 174);
		}

    #bandeau {
      text-align: center;
    }
    </style>
</head>

<body>
  <nav >

    Thomas, Thomas , Eliot, Wail, Alexis
    
    </nav> <br>
<div id="bandeau">Mon application smart city !</div><br>
<div id="map"></div>

<br><br>
<script>
    // Initialisation de la carte Leaflet
	const map = L.map('map').setView([43.6482732, 1.3748762], 11);

	const tiles = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
		maxZoom: 19,
		attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
	}).addTo(map);
  
  // Création initiale du cercle

    var circle = L.circle([43.6482732, 1.3748762], {
    color: 'red',
    fillColor: '#f03',
    fillOpacity: 0.5,
    radius: 200 // rayon par défaut
}).addTo(map);
</script>
<br>
<strong>
  Données traitées du topic MQTT test : 

</strong>
<div id="data"></div>
<div id="port"></div>
</body>
</html>
